var $f=$f||{};
(function(){var k=function(a,b){var c=function(a,b,d,e){var f;if(jQuery.isArray(b))jQuery.each(b,function(b,g){d||rbracket.test(a)?e(a,g):c(a+"["+("object"===typeof g?b:"")+"]",g,d,e)});else if(d||"object"!==jQuery.type(b))e(a,b);else for(f in b)c(a+"["+f+"]",b[f],d,e)},d,e=[],f=function(a,c){b&&void 0===(c=b(a,c))||(c=jQuery.isFunction(c)?c():null==c?"":c,e[e.length]=h(a)+"="+h(c))};if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){f(this.name,this.value)});else for(d in a)c(d,
a[d],void 0,f);return e.join("&").replace(/%20/g,"+")},h=function(a){return"UTF-8"!=$f.charset?encodeURIComponent(escape(a).replace(/%u[A-F0-9]{4}/g,function(a){return"&#"+parseInt(a.substr(2),16)+";"})).replace(/%25/g,"%"):encodeURIComponent(a)},d=_userdata||{};$f.page_type=function(){var a=location.pathname;return/^\/t[1-9][0-9]*(p[1-9][0-9]*)?-/.test(a)?"topic":/^\/f[1-9][0-9]*(p[1-9][0-9]*)?-/.test(a)?"forum":$("#i_icon_mini_index").parent().attr("href")==a?"index":/^\/c[1-9][0-9]*-/.test(a)?
"category":""}();$f.id=function(){var a=location.pathname,b=a.match(/^\/[tfc]([1-9][0-9]*)(p[1-9][0-9]*)?-/);b||(b=a.match(/^\/u([1-9][0-9]*)[a-z]*$/));return b?+b[1]:0}();$f.page_num=function(){var a=location.pathname.match(/^\/[tf][1-9][0-9]*(p[1-9][0-9]*)-/);return a?+a[1]:0}();$f.charset=(document.charset?document.charset:document.characterSet).toUpperCase();$f.tid=$("input[name=tid]:first").val()||($("a[href*='&tid=']:first").attr("href")||"").replace(/^.*&tid=([a-z0-9]*)?.*$/,"$1");$f.user_id=
d.user_id;$f.username=d.username;$f.is_guest=!d.session_logged_in;$f.is_admin=1==d.user_level;$f.is_mod=0<d.user_level;$f.lang=d.lang;$f.avatar=d.avatar;$f.num_posts=d.user_posts;$f.num_pms=d.user_nb_privmsg;$f.num_reps=d.point_reputation;$f.send_pm=function(a,b,c,d){$.post("/privmsg",k({username:a,subject:b,message:c,mode:"post",post:1}),d)};$f.get_post_data=function(a,b){b&&$.get("/post?p="+a+"&mode=editpost",function(a){b($('form[name="post"]',a).serializeArray())})};$f.modify_post=function(a,
b){$f.post.get_form(a,function(a){$.post("/post",k(a,b)+"&post=1")})};$f.delete_post=function(a,b){$.post("/post",{p:a,mode:"delete",confirm:""},b)};$f.reply_topic=function(a,b,c){$.post("/post",{subject:"",message:b,mode:"reply",t:a,post:1,notify:0},c)};$f.split_topic=function(a,b,c,d,e,f){"object"!=typeof c&&(c=[c]);a={subject:a,new_forum_id:"f"+b,post_id_list:c,t:d,mode:"split"};a["split_type_"+(e?"beyond":"all")]=1;$.post("/modcp?tid="+$f.tid,a,f)};$f.delete_topic=function(a,b){$.post("/modcp?tid="+
$f.tid,{t:a,mode:"delete",confirm:1},b)};$f.move_topic=function(a,b,c){"trash"==b?$.get("/modcp?mode=trash&t="+a+"&tid="+$f.tid,c):$.post("/modcp?tid="+$f.tid,{tid:$f.tid,newforum:"f"+b,mode:"move",t:a,confirm:1},c)}})();
